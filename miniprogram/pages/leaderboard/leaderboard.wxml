<!-- ç§¯åˆ†æ’è¡Œæ¦œé¡µé¢ -->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜å’Œè¯´æ˜ -->
  <view class="header">
    <text class="title">ç§¯åˆ†æ’è¡Œæ¦œ</text>
    <text class="subtitle">æ¿€åŠ±å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ ğŸ†</text>
  </view>

  <!-- åˆ‡æ¢æ ‡ç­¾ -->
  <view class="tab-bar">
    <view class="tab-item {{currentTab === 'monthly' ? 'active' : ''}}" bindtap="switchTab" data-tab="monthly">
      <text>æœˆåº¦æ¦œ</text>
    </view>
    <view class="tab-item {{currentTab === 'quarterly' ? 'active' : ''}}" bindtap="switchTab" data-tab="quarterly">
      <text>å­£åº¦æ¦œ</text>
    </view>
  </view>

  <!-- ä¸ªäººæ’åå¡ç‰‡ -->
  <view class="my-rank-card" wx:if="{{myRank}}">
    <view class="rank-info">
      <text class="rank-label">æˆ‘çš„æ’å</text>
      <text class="rank-number">{{myRank.rank}}</text>
    </view>
    <view class="score-info">
      <text class="score-number">{{myRank.score}}</text>
      <text class="score-label">ç§¯åˆ†</text>
    </view>
  </view>

  <!-- å‰ä¸‰åç‰¹æ®Šå±•ç¤º -->
  <view class="top-three" wx:if="{{leaderboardData.length > 0}}">
    <!-- ç¬¬äºŒå -->
    <view class="podium-item second" wx:if="{{leaderboardData[1]}}">
      <image class="avatar" src="{{leaderboardData[1].avatar}}" mode="aspectFill" wx:if="{{leaderboardData[1].avatar}}" />
      <view class="avatar-placeholder" wx:else>ğŸ‘¤</view>
      <text class="nickname">{{leaderboardData[1].nickname}}</text>
      <text class="score">{{leaderboardData[1].score}}</text>
      <view class="medal silver">ğŸ¥ˆ</view>
    </view>

    <!-- ç¬¬ä¸€å -->
    <view class="podium-item first" wx:if="{{leaderboardData[0]}}">
      <image class="avatar large" src="{{leaderboardData[0].avatar}}" mode="aspectFill" wx:if="{{leaderboardData[0].avatar}}" />
      <view class="avatar-placeholder large" wx:else>ğŸ‘¤</view>
      <text class="nickname">{{leaderboardData[0].nickname}}</text>
      <text class="score">{{leaderboardData[0].score}}</text>
      <view class="medal gold">ğŸ¥‡</view>
      <view class="crown">ğŸ‘‘</view>
    </view>

    <!-- ç¬¬ä¸‰å -->
    <view class="podium-item third" wx:if="{{leaderboardData[2]}}">
      <image class="avatar" src="{{leaderboardData[2].avatar}}" mode="aspectFill" wx:if="{{leaderboardData[2].avatar}}" />
      <view class="avatar-placeholder" wx:else>ğŸ‘¤</view>
      <text class="nickname">{{leaderboardData[2].nickname}}</text>
      <text class="score">{{leaderboardData[2].score}}</text>
      <view class="medal bronze">ğŸ¥‰</view>
    </view>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <view class="leaderboard-list">
    <view class="list-header">
      <text>æ’å</text>
      <text>ç”¨æˆ·</text>
      <text>ç§¯åˆ†</text>
    </view>
    
    <view class="list-item {{item.is_current_user ? 'current-user' : ''}}" 
          wx:for="{{leaderboardData}}" 
          wx:key="user_id"
          wx:if="{{index >= 3}}">
      <view class="rank">
        <text class="rank-number">{{item.rank}}</text>
      </view>
      <view class="user-info">
        <image class="small-avatar" src="{{item.avatar}}" mode="aspectFill" wx:if="{{item.avatar}}" />
        <view class="small-avatar-placeholder" wx:else>ğŸ‘¤</view>
        <text class="user-nickname">{{item.nickname}}</text>
      </view>
      <view class="score">
        <text class="score-number">{{item.score}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{leaderboardData.length === 0 && !loading}}">
    <text class="empty-icon">ğŸ“Š</text>
    <text class="empty-text">æš‚æ— æ’è¡Œæ¦œæ•°æ®</text>
    <text class="empty-desc">å®Œæˆä½œä¸šå’Œæ‰“å¡æ¥è·å¾—ç§¯åˆ†å§ï¼</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ’è¡Œæ¦œè¯´æ˜ -->
  <view class="info-section">
    <text class="info-title">ç§¯åˆ†è§„åˆ™</text>
    <view class="info-item">
      <text class="rule-text">â€¢ ä½œä¸šæäº¤ï¼š+1åˆ†</text>
    </view>
    <view class="info-item">
      <text class="rule-text">â€¢ è·å¾—"ä¼˜ç§€"ï¼š+2åˆ†</text>
    </view>
    <view class="info-item">
      <text class="rule-text">â€¢ è·å¾—"æä½³"ï¼š+5åˆ†</text>
    </view>
    <view class="info-item">
      <text class="rule-text">â€¢ è¿ç»­æ‰“å¡å¥–åŠ±ï¼š+1~10åˆ†</text>
    </view>
    <view class="info-item">
      <text class="rule-text">â€¢ å®Œæˆå¤ç›˜ï¼š+1åˆ†</text>
    </view>
  </view>
</view>

<!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
<view class="safe-bottom"></view>