<!--å­¦ä¹ å¤ç›˜ä¸»é¡µé¢ - ç®€åŒ–ç‰ˆæœ¬-->
<view class="container">
  <!-- å¤ç›˜ä»»åŠ¡æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">å¤ç›˜ä»»åŠ¡</text>
    <text class="task-count">{{todayReviewTasks.length}}ä¸ªä»»åŠ¡å¾…å®Œæˆ</text>
  </view>
  
  <!-- ä»Šæ—¥ä»»åŠ¡åˆ—è¡¨ -->
  <view class="tasks-list">
    <view 
      class="task-card {{item.status === 'overdue' ? 'overdue' : ''}}"
      wx:for="{{todayReviewTasks}}"
      wx:key="id"
    >
      <view 
        class="task-info"
        bindtap="viewTaskDetail"
        data-id="{{item.id}}"
      >
        <text class="task-title">{{item.title}}</text>
        <view class="task-meta">
          <text class="task-subject">{{item.subject}}</text>
          <text class="task-count">ç¬¬{{item.review_count + 1}}æ¬¡å¤ç›˜</text>
          <text class="task-date">{{item.ebbinghaus_day}}å¤©å¤ç›˜</text>
          <text class="task-original">åŸå­¦ä¹ ï¼š{{item.original_date}}</text>
          <text class="task-status {{item.status}}" wx:if="{{item.status === 'overdue'}}">
            å·²è¿‡æœŸ{{item.days_overdue}}å¤©
          </text>
        </view>
      </view>
      
      <view class="task-actions">
        <button 
          class="task-btn complete {{item.status === 'completed' ? 'disabled' : ''}}" 
          bindtap="startReview"
          data-id="{{item.id}}"
          disabled="{{item.status === 'completed'}}"
        >
          {{item.status === 'completed' ? 'å·²å®Œæˆ' : 'å®Œæˆ'}}
        </button>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-tasks" wx:if="{{todayReviewTasks.length === 0 && !loading}}">
      <text class="empty-icon">ğŸ‰</text>
      <text class="empty-text">ä»Šæ—¥æ— å¤ç›˜ä»»åŠ¡</text>
      <text class="empty-desc">ä¼‘æ¯ä¸€ä¸‹ï¼Œæ˜å¤©å†æ¥ï¼</text>
    </view>
  </view>

  <!-- TODO: å¤æ‚åŠŸèƒ½æš‚æ—¶éšè— - é¢„ç•™ä¸ºæœªæ¥ç‰ˆæœ¬ -->
  <!-- å¤ç›˜è®¾ç½® -->
  <!-- <view class="settings-section">
    <view class="section-title">
      <text>å¤ç›˜è®¾ç½®</text>
      <text class="edit-btn" bindtap="editSettings">ç¼–è¾‘</text>
    </view>
    
    <view class="settings-list">
      <view class="setting-item">
        <text class="setting-label">å¤ç›˜é¢‘ç‡</text>
        <text class="setting-value">{{frequencyMap[reviewSettings.frequency] || 'æ¯å‘¨'}}</text>
      </view>
      
      <view class="setting-item" wx:if="{{reviewSettings.frequency === 'custom'}}">
        <text class="setting-label">è‡ªå®šä¹‰å‘¨æœŸ</text>
        <text class="setting-value">{{reviewSettings.custom_days}}å¤©</text>
      </view>
      
      <view class="setting-item">
        <text class="setting-label">åå¥½æ—¶é—´</text>
        <text class="setting-value">{{reviewSettings.preferred_time}}:00</text>
      </view>
      
      <view class="setting-item">
        <text class="setting-label">æé†’é€šçŸ¥</text>
        <switch 
          checked="{{reviewSettings.reminder_enabled}}"
          bindchange="toggleReminder"
          color="#4CAF50"
        />
      </view>
    </view>
  </view> -->

  <!-- å¤ç›˜ç»Ÿè®¡ -->
  <!-- <view class="stats-section">
    <view class="section-title">
      <text>å¤ç›˜ç»Ÿè®¡</text>
    </view>
    
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{reviewStats.total_reviews || 0}}</text>
        <text class="stat-label">æ€»å¤ç›˜æ¬¡æ•°</text>
      </view>
      
      <view class="stat-item">
        <text class="stat-number">{{reviewStats.completion_rate || 0}}%</text>
        <text class="stat-label">å®Œæˆç‡</text>
      </view>
      
      <view class="stat-item">
        <text class="stat-number">{{reviewStats.avg_completion_duration || 0}}</text>
        <text class="stat-label">å¹³å‡æ—¶é•¿(åˆ†é’Ÿ)</text>
      </view>
      
      
      <view class="stat-item">
        <text class="stat-number">{{reviewStats.pending_count || 0}}</text>
        <text class="stat-label">å¾…å®Œæˆ</text>
      </view>
    </view>
  </view> -->

  <!-- å†å²è®°å½• -->
  <!-- <view class="history-section">
    <view class="section-title">
      <text>æœ€è¿‘å¤ç›˜</text>
      <text class="more-btn" bindtap="showAllHistory">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    
    <view class="history-list">
      <view 
        class="history-item" 
        wx:for="{{reviewHistory}}" 
        wx:key="id"
        bindtap="viewReviewDetail"
        data-id="{{item.id}}"
      >
        <view class="history-date">
          <text class="date-text">{{item.review_date}}</text>
          <text class="period-text">{{item.period_start}} - {{item.period_end}}</text>
        </view>
        
        <view class="history-status">
          <text class="status-badge {{item.status}}">
            {{statusMap[item.status] || 'æœªçŸ¥'}}
          </text>
        </view>
        
        <view class="history-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="empty-history" wx:if="{{reviewHistory.length === 0}}">
        <text>æš‚æ— å¤ç›˜è®°å½•</text>
      </view>
    </view>
  </view> -->
</view>

<!-- TODO: å¤æ‚è®¾ç½®å¼¹çª—æš‚æ—¶éšè— - é¢„ç•™ä¸ºæœªæ¥ç‰ˆæœ¬ -->
<!-- å¤ç›˜è®¾ç½®å¼¹çª— -->
<!-- <view class="settings-modal" wx:if="{{showSettingsModal}}" bindtap="closeSettingsModal">
  <view class="modal-content" catchtap="stopPropagation">
    <view class="modal-header">
      <text class="modal-title">å¤ç›˜è®¾ç½®</text>
      <text class="modal-close" bindtap="closeSettingsModal">Ã—</text>
    </view>
    
    <view class="modal-body">
      <view class="form-group">
        <text class="form-label">å¤ç›˜é¢‘ç‡</text>
        <picker 
          mode="selector" 
          range="{{frequencyOptions}}" 
          range-key="label"
          value="{{frequencyIndex}}"
          bindchange="onFrequencyChange"
        >
          <view class="picker-view">
            {{frequencyOptions[frequencyIndex].label}}
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>
      
      <view class="form-group" wx:if="{{tempSettings.frequency === 'custom'}}">
        <text class="form-label">è‡ªå®šä¹‰å¤©æ•°</text>
        <input 
          class="form-input"
          type="number"
          placeholder="è¯·è¾“å…¥å¤©æ•°"
          value="{{tempSettings.custom_days}}"
          bindinput="onCustomDaysInput"
        />
      </view>
      
      <view class="form-group">
        <text class="form-label">åå¥½æ—¶é—´</text>
        <picker 
          mode="time" 
          value="{{tempSettings.preferred_time}}"
          bindchange="onTimeChange"
        >
          <view class="picker-view">
            {{tempSettings.preferred_time}}:00
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>
      
      <view class="form-group">
        <text class="form-label">å¤ç›˜å†…å®¹</text>
        <view class="checkbox-group">
          <label class="checkbox-item">
            <checkbox 
              checked="{{tempSettings.include_scores}}"
              bindchange="onContentChange"
              data-field="include_scores"
            />
            <text>æˆç»©ç»Ÿè®¡</text>
          </label>
          
          <label class="checkbox-item">
            <checkbox 
              checked="{{tempSettings.include_mistakes}}"
              bindchange="onContentChange"
              data-field="include_mistakes"
            />
            <text>é”™é¢˜å›é¡¾</text>
          </label>
          
          <label class="checkbox-item">
            <checkbox 
              checked="{{tempSettings.include_progress}}"
              bindchange="onContentChange"
              data-field="include_progress"
            />
            <text>å­¦ä¹ è¿›åº¦</text>
          </label>
          
          <label class="checkbox-item">
            <checkbox 
              checked="{{tempSettings.include_suggestions}}"
              bindchange="onContentChange"
              data-field="include_suggestions"
            />
            <text>å­¦ä¹ å»ºè®®</text>
          </label>
        </view>
      </view>
    </view>
    
    <view class="modal-footer">
      <button class="modal-btn secondary" bindtap="closeSettingsModal">
        å–æ¶ˆ
      </button>
      <button class="modal-btn primary" bindtap="saveSettings">
        ä¿å­˜
      </button>
    </view>
  </view>
</view> -->