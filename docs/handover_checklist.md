# 项目交接清单

**项目名称**：公考督学助手MVP  
**交接日期**：2024年9月2日  
**开发者**：AI Assistant  
**接收方**：产品经理 & 开发团队

---

## 一、快速启动指南

### 1.1 一键启动（开发环境）

```bash
# 1. 启动后端服务
cd D:\projects-2025\MVP_zhuzhen\backend
pip install -r requirements.txt
uvicorn app.main:app --reload

# 2. 启动小程序
# 打开微信开发者工具
# 导入项目：D:\projects-2025\MVP_zhuzhen\miniprogram
# AppID: wxe0256a399255e0d0
```

### 1.2 测试账号
- **学生账号**：微信扫码登录自动创建
- **教师账号**：登录后需手动修改数据库user表的role字段为'teacher'

---

## 二、项目文件清单

### 2.1 核心文件位置

| 类型 | 路径 | 说明 |
|------|------|------|
| **后端入口** | `backend/app/main.py` | FastAPI应用主文件 |
| **数据模型** | `backend/app/models.py` | 所有数据表定义 |
| **API接口** | `backend/app/api/` | 所有接口实现 |
| **前端入口** | `miniprogram/app.js` | 小程序全局配置 |
| **页面文件** | `miniprogram/pages/` | 所有页面实现 |
| **业务模块** | `miniprogram/modules/` | 认证、任务、提交模块 |
| **项目文档** | `docs/` | 所有文档资料 |

### 2.2 配置文件

| 文件 | 位置 | 用途 |
|------|------|------|
| `.env` | `backend/.env` | 后端环境变量（需创建） |
| `requirements.txt` | `backend/requirements.txt` | Python依赖包 |
| `project.config.json` | `miniprogram/project.config.json` | 小程序项目配置 |
| `app.json` | `miniprogram/app.json` | 小程序全局配置 |

---

## 三、功能测试清单

### 3.1 学生端测试流程

- [ ] **登录流程**
  - [ ] 微信授权登录
  - [ ] 头像昵称设置
  - [ ] 自动登录

- [ ] **任务列表**
  - [ ] 查看所有任务
  - [ ] 筛选功能（全部/进行中/已结束）
  - [ ] 下拉刷新
  - [ ] 上拉加载更多

- [ ] **作业提交**
  - [ ] 选择图片（最多9张）
  - [ ] 添加文字说明
  - [ ] 提交作业
  - [ ] 查看提交历史（最多3次）

- [ ] **查看批改**
  - [ ] 查看批改结果
  - [ ] 查看评分和评语
  - [ ] 重新提交（如果次数未用完）

### 3.2 教师端测试流程

- [ ] **批改作业**
  - [ ] 查看待批改列表
  - [ ] 选择评价档位（极佳/优秀/待复盘）
  - [ ] 输入分数和评语
  - [ ] 使用快捷评语
  - [ ] 提交批改

- [ ] **任务管理**
  - [ ] 查看任务统计
  - [ ] 切换任务状态
  - [ ] 生成分享链接

---

## 四、已知问题列表

### 4.1 必须解决（上线前）

| 问题 | 描述 | 解决方案 |
|------|------|----------|
| **文件存储** | 图片保存在本地 | 配置阿里云OSS |
| **数据库** | 使用SQLite | 迁移到PostgreSQL |
| **域名配置** | 未配置合法域名 | 配置并备案域名 |
| **小程序审核** | 未提交审核 | 准备材料提交 |

### 4.2 建议优化

| 问题 | 影响 | 优先级 |
|------|------|--------|
| 图片未压缩 | 上传慢 | 中 |
| 无消息通知 | 用户体验 | 中 |
| 缺少数据统计 | 运营分析 | 低 |
| 无批量操作 | 效率低 | 低 |

---

## 五、部署检查清单

### 5.1 后端部署

- [ ] **服务器准备**
  - [ ] 云服务器（推荐2核4G）
  - [ ] 安装Python 3.11+
  - [ ] 安装PostgreSQL
  - [ ] 配置Nginx

- [ ] **环境配置**
  ```bash
  # .env文件配置
  DATABASE_URL=postgresql://user:pass@localhost/dbname
  SECRET_KEY=生成32位随机密钥
  WECHAT_APP_ID=小程序AppID
  WECHAT_APP_SECRET=小程序Secret
  ```

- [ ] **启动服务**
  ```bash
  # 使用supervisor管理进程
  pip install supervisor
  supervisorctl start zhuzhen-backend
  ```

### 5.2 小程序发布

- [ ] **基础配置**
  - [ ] 配置服务器域名（https）
  - [ ] 上传代码到微信平台
  - [ ] 设置版本号和描述

- [ ] **审核材料**
  - [ ] 软件著作权（可选）
  - [ ] ICP备案号
  - [ ] 隐私政策
  - [ ] 用户协议

---

## 六、运维监控

### 6.1 日志位置
- 后端日志：`backend/logs/app.log`
- 错误日志：`backend/logs/error.log`
- 访问日志：Nginx access.log

### 6.2 监控指标
- API响应时间
- 错误率
- 日活跃用户
- 作业提交量

### 6.3 备份策略
- 数据库：每日凌晨自动备份
- 用户上传文件：OSS自动备份
- 代码：Git版本控制

---

## 七、联系方式

### 技术支持
- 文档位置：`D:\projects-2025\MVP_zhuzhen\docs\`
- API文档：`http://localhost:8000/docs`（开发环境）

### 常见问题
1. **Q: 如何添加教师账号？**  
   A: 用户登录后，修改数据库user表的role字段为'teacher'

2. **Q: 图片上传失败？**  
   A: 检查uploads目录权限，生产环境需配置OSS

3. **Q: 小程序白屏？**  
   A: 检查后端服务是否启动，域名是否配置正确

---

## 八、下一步建议

### 产品优化方向
1. 添加学习报告功能
2. 支持语音评语
3. 增加激励体系
4. 优化批改效率工具

### 技术优化方向
1. 接入CDN加速
2. 添加Redis缓存
3. 实现WebSocket实时通知
4. 容器化部署（Docker）

---

**文档版本**：1.0  
**最后更新**：2024-09-02 20:00  
**编写者**：AI Assistant

> 提示：本文档包含项目交接所需的所有关键信息，建议通读一遍后开始操作。如有疑问，请查看详细的开发日志和API文档。